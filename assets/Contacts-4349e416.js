import{d as b,e as h,b as l,j as e,Q as g,f as y,g as C,s as v,h as F,i as B,k as T}from"./index-0333744a.js";import{q as $,W as I}from"./index.module-a2bd2d78.js";import{u as k}from"./useValidateInputs-2ab0d0bf.js";const A="_submitBtn_1ycnr_1",D="_formTitle_1ycnr_24",S="_contactForm_1ycnr_29",q="_label_1ycnr_45",E="_input_1ycnr_52",P="_fieldName_1ycnr_61",w="_formInfo_1ycnr_75",L="_section_1ycnr_85",V="_spin_1ycnr_1",s={submitBtn:A,formTitle:D,contactForm:S,label:q,input:E,fieldName:P,formInfo:w,section:L,spin:V},z=()=>{const[t,n]=b.useState({name:"",number:""}),{contacts:a}=h(),{validateName:c,validateNumber:o}=k(),m=l(),p=i=>{const{name:d,value:u}=i.currentTarget;n(_=>({..._,[d]:u}))},j=i=>{i.preventDefault();const{elements:{name:d,number:u}}=i.currentTarget;if(a.map(({name:N})=>N).includes(t.name))return g.error(`${t.name} is already in contacts`);if(c(t.name))return d.focus();if(o(t.number))return u.focus();m(y(t)),n({name:"",number:""})};return e.jsxs("section",{className:s.section,children:[e.jsxs("div",{children:[e.jsx("h1",{className:s.formTitle,children:"Phonebook"}),e.jsxs("form",{className:s.contactForm,onSubmit:j,children:[e.jsxs("label",{className:s.label,children:[e.jsx("span",{className:s.fieldName,children:"Name"}),e.jsx("input",{className:s.input,type:"text",name:"name",value:t.name,onChange:p,title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0})]}),e.jsxs("label",{className:s.label,children:[e.jsx("span",{className:s.fieldName,children:"Number"}),e.jsx("input",{className:s.input,type:"tel",name:"number",value:t.number,onChange:p,title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0})]}),e.jsx("button",{className:s.submitBtn,type:"submit",children:"Add contact"})]})]}),e.jsxs("div",{children:[e.jsxs("p",{className:s.formInfo,children:["* name may contain only letters, ",e.jsx("span",{children:"apostrophe"}),", dash and spaces, but spaces ",e.jsx("span",{children:"not"})," at the beginning and at the end"]}),e.jsxs("p",{className:s.formInfo,children:["* phone number must be digits and can ",e.jsx("span",{children:"contain"})," spaces, dashes, parentheses and ",e.jsx("span",{children:"can"})," start with +"]})]})]})},J="_filter_133jd_1",M="_text_133jd_11",x={filter:J,text:M},Q=()=>{const t=C(v),n=l(),a=c=>{const{value:o}=c.currentTarget;n(F(o))};return e.jsxs(e.Fragment,{children:[e.jsx("p",{className:x.text,children:"Find contacts by name"}),e.jsx("input",{className:x.filter,type:"text",name:"filter",value:t,onChange:a})]})},R="_deleteBtn_1b58f_1",W="_item_1b58f_33",G="_text_1b58f_49",H="_name_1b58f_57",K="_number_1b58f_58",O="_spin_1b58f_1",r={deleteBtn:R,item:W,text:G,name:H,number:K,spin:O},U=()=>{const{filteredContacts:t}=h(),n=l(),a=c=>{const o=c.currentTarget.dataset.id;n(B(o))};return t.map(({id:c,name:o,number:m})=>e.jsxs("li",{className:r.item,children:[e.jsxs("p",{className:r.text,children:[e.jsx("span",{className:r.name,children:"Name: "}),o]}),e.jsxs("p",{className:r.text,children:[e.jsx("span",{className:r.number,children:"Number: "}),m]}),e.jsx("button",{className:r.deleteBtn,type:"button","data-id":c,onClick:a,children:"Delete"})]},c))},X="_info_1k0rn_1",Y={info:X},Z=()=>e.jsx("p",{className:Y.info,children:"There are no contacts â˜Ž"}),ee="_title_1cfv3_10",te="_contacts_1cfv3_15",se="_spin_1cfv3_1",f={title:ee,contacts:te,spin:se},ne=()=>{const{contacts:t,isContactsLoading:n}=h(),a=l();return b.useEffect(()=>{a(T())},[a]),e.jsxs("section",{children:[e.jsx("h2",{className:f.title,children:"Contacts"}),t.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(Q,{}),e.jsx("ul",{className:f.contacts,children:e.jsx(U,{})})]}),!t.length&&!n&&e.jsx(Z,{})]})},re=()=>e.jsxs($,{children:[e.jsx(I,{children:e.jsx("title",{children:"Phonebook"})}),e.jsx(z,{}),e.jsx(ne,{})]});export{re as default};
